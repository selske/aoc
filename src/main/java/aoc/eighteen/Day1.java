package aoc.eighteen;

import java.io.BufferedReader;
import java.io.StringReader;
import java.util.HashSet;
import java.util.Set;
import java.util.stream.Collectors;

public class Day1 {

    private static final String INPUT = "-4\r\n" + "+7\r\n" + "+3\r\n" + "+1\r\n" + "-9\r\n" + "-14\r\n" + "+18\r\n" + "-7\r\n" + "-5\r\n" + "-18\r\n" + "+11\r\n" + "-8\r\n" + "+17\r\n" + "-16\r\n"
            + "-19\r\n" + "+14\r\n" + "+11\r\n" + "-8\r\n" + "+14\r\n" + "+22\r\n" + "+13\r\n" + "+14\r\n" + "-18\r\n" + "+8\r\n" + "-16\r\n" + "+10\r\n" + "-12\r\n" + "+9\r\n" + "-19\r\n" + "-12\r\n"
            + "-6\r\n" + "+10\r\n" + "+2\r\n" + "-14\r\n" + "+18\r\n" + "+17\r\n" + "+11\r\n" + "-5\r\n" + "+6\r\n" + "+9\r\n" + "+16\r\n" + "-3\r\n" + "+12\r\n" + "+5\r\n" + "+15\r\n" + "+7\r\n"
            + "+2\r\n" + "-5\r\n" + "-13\r\n" + "+7\r\n" + "+19\r\n" + "+10\r\n" + "-2\r\n" + "+3\r\n" + "-5\r\n" + "-7\r\n" + "-11\r\n" + "+14\r\n" + "+13\r\n" + "+3\r\n" + "+11\r\n" + "+15\r\n"
            + "-19\r\n" + "-1\r\n" + "-5\r\n" + "+15\r\n" + "+14\r\n" + "-16\r\n" + "+8\r\n" + "+9\r\n" + "-11\r\n" + "-7\r\n" + "+15\r\n" + "+4\r\n" + "+7\r\n" + "+11\r\n" + "-2\r\n" + "+17\r\n"
            + "-8\r\n" + "-14\r\n" + "+3\r\n" + "-4\r\n" + "+18\r\n" + "+1\r\n" + "+6\r\n" + "-5\r\n" + "+17\r\n" + "+13\r\n" + "-14\r\n" + "-15\r\n" + "-9\r\n" + "+16\r\n" + "+14\r\n" + "+12\r\n"
            + "-14\r\n" + "-14\r\n" + "+4\r\n" + "-19\r\n" + "+11\r\n" + "+5\r\n" + "+7\r\n" + "+1\r\n" + "+13\r\n" + "-7\r\n" + "+19\r\n" + "+12\r\n" + "+10\r\n" + "+13\r\n" + "-3\r\n" + "+6\r\n"
            + "-17\r\n" + "+13\r\n" + "-8\r\n" + "+16\r\n" + "+4\r\n" + "-15\r\n" + "+14\r\n" + "-1\r\n" + "+15\r\n" + "-19\r\n" + "+15\r\n" + "-19\r\n" + "+17\r\n" + "-6\r\n" + "+11\r\n" + "-10\r\n"
            + "+9\r\n" + "+17\r\n" + "+6\r\n" + "+15\r\n" + "-18\r\n" + "+2\r\n" + "-8\r\n" + "+11\r\n" + "-6\r\n" + "-7\r\n" + "+9\r\n" + "+16\r\n" + "-13\r\n" + "-18\r\n" + "-1\r\n" + "+5\r\n"
            + "-16\r\n" + "+9\r\n" + "-6\r\n" + "+11\r\n" + "-16\r\n" + "+3\r\n" + "-9\r\n" + "+18\r\n" + "+5\r\n" + "+7\r\n" + "+15\r\n" + "+12\r\n" + "+19\r\n" + "-17\r\n" + "-4\r\n" + "-15\r\n"
            + "-13\r\n" + "+5\r\n" + "-11\r\n" + "+25\r\n" + "+14\r\n" + "+5\r\n" + "+5\r\n" + "+4\r\n" + "-2\r\n" + "-4\r\n" + "-14\r\n" + "+7\r\n" + "+16\r\n" + "+6\r\n" + "+11\r\n" + "-8\r\n"
            + "+13\r\n" + "+8\r\n" + "+3\r\n" + "-12\r\n" + "+8\r\n" + "+7\r\n" + "-5\r\n" + "+14\r\n" + "+5\r\n" + "+8\r\n" + "-3\r\n" + "-14\r\n" + "-14\r\n" + "-7\r\n" + "-18\r\n" + "-12\r\n"
            + "+18\r\n" + "+4\r\n" + "-14\r\n" + "-17\r\n" + "-17\r\n" + "+12\r\n" + "-9\r\n" + "+3\r\n" + "-18\r\n" + "+27\r\n" + "+26\r\n" + "-9\r\n" + "-7\r\n" + "+12\r\n" + "+9\r\n" + "+6\r\n"
            + "+7\r\n" + "+1\r\n" + "-13\r\n" + "+4\r\n" + "-8\r\n" + "-3\r\n" + "-12\r\n" + "+21\r\n" + "+13\r\n" + "+6\r\n" + "+7\r\n" + "+9\r\n" + "+18\r\n" + "-17\r\n" + "+4\r\n" + "+10\r\n"
            + "-11\r\n" + "-17\r\n" + "-16\r\n" + "+18\r\n" + "+9\r\n" + "-2\r\n" + "+3\r\n" + "-13\r\n" + "-9\r\n" + "+3\r\n" + "-10\r\n" + "-15\r\n" + "+11\r\n" + "+24\r\n" + "+2\r\n" + "+16\r\n"
            + "+11\r\n" + "+18\r\n" + "+14\r\n" + "-5\r\n" + "-3\r\n" + "+18\r\n" + "+4\r\n" + "+4\r\n" + "+5\r\n" + "-2\r\n" + "-10\r\n" + "+8\r\n" + "+19\r\n" + "+4\r\n" + "+14\r\n" + "+8\r\n"
            + "+1\r\n" + "-14\r\n" + "-7\r\n" + "+15\r\n" + "-4\r\n" + "-5\r\n" + "+20\r\n" + "+15\r\n" + "+2\r\n" + "-14\r\n" + "-12\r\n" + "-16\r\n" + "+4\r\n" + "-9\r\n" + "+18\r\n" + "+16\r\n"
            + "+7\r\n" + "+7\r\n" + "+10\r\n" + "+17\r\n" + "-18\r\n" + "+3\r\n" + "+10\r\n" + "-11\r\n" + "-21\r\n" + "-9\r\n" + "-2\r\n" + "+12\r\n" + "-17\r\n" + "+13\r\n" + "+19\r\n" + "-18\r\n"
            + "-4\r\n" + "-19\r\n" + "+10\r\n" + "-11\r\n" + "-18\r\n" + "-4\r\n" + "+6\r\n" + "+1\r\n" + "+2\r\n" + "-4\r\n" + "-28\r\n" + "-28\r\n" + "-19\r\n" + "+13\r\n" + "+18\r\n" + "-15\r\n"
            + "-6\r\n" + "+5\r\n" + "+9\r\n" + "-26\r\n" + "-6\r\n" + "+19\r\n" + "-6\r\n" + "+1\r\n" + "-11\r\n" + "-11\r\n" + "+25\r\n" + "-26\r\n" + "+19\r\n" + "+10\r\n" + "+2\r\n" + "+9\r\n"
            + "-22\r\n" + "-66\r\n" + "-8\r\n" + "+1\r\n" + "-14\r\n" + "-2\r\n" + "-5\r\n" + "+19\r\n" + "-55\r\n" + "+6\r\n" + "-19\r\n" + "-4\r\n" + "-13\r\n" + "+21\r\n" + "-13\r\n" + "-3\r\n"
            + "-10\r\n" + "-7\r\n" + "+15\r\n" + "-5\r\n" + "-4\r\n" + "-10\r\n" + "+5\r\n" + "-11\r\n" + "-3\r\n" + "+16\r\n" + "+6\r\n" + "+10\r\n" + "+3\r\n" + "-1\r\n" + "-5\r\n" + "-21\r\n"
            + "-6\r\n" + "+9\r\n" + "-4\r\n" + "-6\r\n" + "-17\r\n" + "-10\r\n" + "+14\r\n" + "-11\r\n" + "+17\r\n" + "+16\r\n" + "-19\r\n" + "+6\r\n" + "+1\r\n" + "-2\r\n" + "+8\r\n" + "-15\r\n"
            + "+17\r\n" + "-14\r\n" + "-16\r\n" + "+7\r\n" + "-5\r\n" + "-24\r\n" + "-7\r\n" + "-20\r\n" + "+5\r\n" + "-4\r\n" + "+11\r\n" + "-1\r\n" + "+12\r\n" + "-9\r\n" + "-11\r\n" + "-9\r\n"
            + "-9\r\n" + "-11\r\n" + "-3\r\n" + "-15\r\n" + "-21\r\n" + "-12\r\n" + "+21\r\n" + "+3\r\n" + "+12\r\n" + "+2\r\n" + "+2\r\n" + "+21\r\n" + "-9\r\n" + "+20\r\n" + "+4\r\n" + "+11\r\n"
            + "-1\r\n" + "+4\r\n" + "-20\r\n" + "+4\r\n" + "+19\r\n" + "+12\r\n" + "+4\r\n" + "-15\r\n" + "+14\r\n" + "+11\r\n" + "+21\r\n" + "-29\r\n" + "-53\r\n" + "+10\r\n" + "-11\r\n" + "+8\r\n"
            + "-10\r\n" + "-11\r\n" + "+12\r\n" + "-17\r\n" + "-25\r\n" + "-35\r\n" + "+1\r\n" + "-2\r\n" + "+14\r\n" + "+36\r\n" + "+70\r\n" + "+14\r\n" + "+50\r\n" + "+3\r\n" + "+6\r\n" + "+23\r\n"
            + "-20\r\n" + "-6\r\n" + "-66\r\n" + "-39\r\n" + "-14\r\n" + "+191\r\n" + "-17\r\n" + "+24\r\n" + "+155\r\n" + "-6\r\n" + "+61\r\n" + "+59623\r\n" + "-4\r\n" + "+7\r\n" + "+19\r\n"
            + "+5\r\n" + "-1\r\n" + "-8\r\n" + "-8\r\n" + "-15\r\n" + "+16\r\n" + "+8\r\n" + "-7\r\n" + "+19\r\n" + "-3\r\n" + "+14\r\n" + "+14\r\n" + "+6\r\n" + "+17\r\n" + "-15\r\n" + "+3\r\n"
            + "+11\r\n" + "+12\r\n" + "-5\r\n" + "+19\r\n" + "+2\r\n" + "+1\r\n" + "+16\r\n" + "+13\r\n" + "+6\r\n" + "+1\r\n" + "+18\r\n" + "+16\r\n" + "-4\r\n" + "+11\r\n" + "-1\r\n" + "+19\r\n"
            + "-7\r\n" + "-19\r\n" + "-10\r\n" + "+19\r\n" + "+7\r\n" + "+4\r\n" + "-17\r\n" + "-4\r\n" + "-4\r\n" + "+9\r\n" + "-8\r\n" + "-17\r\n" + "-9\r\n" + "-14\r\n" + "+16\r\n" + "+4\r\n"
            + "-19\r\n" + "+11\r\n" + "+1\r\n" + "+2\r\n" + "-19\r\n" + "+7\r\n" + "-8\r\n" + "-7\r\n" + "-18\r\n" + "-6\r\n" + "+4\r\n" + "-5\r\n" + "-15\r\n" + "+2\r\n" + "+7\r\n" + "-18\r\n"
            + "-8\r\n" + "+14\r\n" + "-20\r\n" + "+1\r\n" + "+17\r\n" + "-2\r\n" + "+3\r\n" + "+17\r\n" + "-1\r\n" + "+7\r\n" + "+10\r\n" + "+10\r\n" + "-1\r\n" + "+19\r\n" + "+3\r\n" + "-16\r\n"
            + "-10\r\n" + "+1\r\n" + "+10\r\n" + "+6\r\n" + "+20\r\n" + "-17\r\n" + "+19\r\n" + "+14\r\n" + "-18\r\n" + "-11\r\n" + "+22\r\n" + "-3\r\n" + "-16\r\n" + "+15\r\n" + "+12\r\n" + "+14\r\n"
            + "-12\r\n" + "-1\r\n" + "+22\r\n" + "+10\r\n" + "-7\r\n" + "-8\r\n" + "+2\r\n" + "-1\r\n" + "-6\r\n" + "-7\r\n" + "+19\r\n" + "+7\r\n" + "+12\r\n" + "-14\r\n" + "+18\r\n" + "+7\r\n"
            + "-17\r\n" + "-9\r\n" + "+10\r\n" + "+14\r\n" + "-1\r\n" + "-17\r\n" + "+8\r\n" + "+4\r\n" + "+2\r\n" + "+16\r\n" + "+3\r\n" + "+16\r\n" + "+4\r\n" + "-2\r\n" + "+18\r\n" + "-19\r\n"
            + "-15\r\n" + "-1\r\n" + "-10\r\n" + "-5\r\n" + "+8\r\n" + "-4\r\n" + "-13\r\n" + "+18\r\n" + "+15\r\n" + "-5\r\n" + "+10\r\n" + "-6\r\n" + "+13\r\n" + "-11\r\n" + "+12\r\n" + "+2\r\n"
            + "+4\r\n" + "-2\r\n" + "-13\r\n" + "-7\r\n" + "-11\r\n" + "-13\r\n" + "-5\r\n" + "+4\r\n" + "+10\r\n" + "+12\r\n" + "-15\r\n" + "-16\r\n" + "-10\r\n" + "-9\r\n" + "-27\r\n" + "-4\r\n"
            + "-9\r\n" + "-21\r\n" + "-13\r\n" + "-4\r\n" + "-1\r\n" + "-10\r\n" + "-10\r\n" + "+14\r\n" + "+12\r\n" + "-29\r\n" + "-16\r\n" + "-12\r\n" + "-1\r\n" + "-12\r\n" + "+18\r\n" + "-20\r\n"
            + "-11\r\n" + "-5\r\n" + "+12\r\n" + "-2\r\n" + "-6\r\n" + "+18\r\n" + "-2\r\n" + "-1\r\n" + "+6\r\n" + "-18\r\n" + "-12\r\n" + "+20\r\n" + "-4\r\n" + "+6\r\n" + "-14\r\n" + "+6\r\n"
            + "-17\r\n" + "-6\r\n" + "+8\r\n" + "-14\r\n" + "-18\r\n" + "-4\r\n" + "-8\r\n" + "+2\r\n" + "+7\r\n" + "+20\r\n" + "-10\r\n" + "-15\r\n" + "+18\r\n" + "-12\r\n" + "+13\r\n" + "-18\r\n"
            + "+9\r\n" + "+11\r\n" + "-19\r\n" + "+9\r\n" + "+3\r\n" + "+10\r\n" + "-17\r\n" + "-16\r\n" + "-4\r\n" + "-11\r\n" + "-5\r\n" + "-9\r\n" + "-12\r\n" + "+4\r\n" + "-13\r\n" + "+14\r\n"
            + "+13\r\n" + "-17\r\n" + "-21\r\n" + "+7\r\n" + "+19\r\n" + "+10\r\n" + "-6\r\n" + "+9\r\n" + "+13\r\n" + "-5\r\n" + "-13\r\n" + "+19\r\n" + "+7\r\n" + "-4\r\n" + "-6\r\n" + "+17\r\n"
            + "-16\r\n" + "-8\r\n" + "-14\r\n" + "-11\r\n" + "-3\r\n" + "-16\r\n" + "+10\r\n" + "-1\r\n" + "-2\r\n" + "-19\r\n" + "+3\r\n" + "+13\r\n" + "-15\r\n" + "+8\r\n" + "+6\r\n" + "-19\r\n"
            + "+2\r\n" + "-12\r\n" + "-6\r\n" + "-19\r\n" + "+17\r\n" + "-8\r\n" + "+11\r\n" + "+2\r\n" + "-18\r\n" + "-6\r\n" + "-10\r\n" + "+7\r\n" + "+4\r\n" + "+12\r\n" + "-3\r\n" + "+8\r\n"
            + "+7\r\n" + "+18\r\n" + "-8\r\n" + "+10\r\n" + "-15\r\n" + "-2\r\n" + "-12\r\n" + "+20\r\n" + "-13\r\n" + "-16\r\n" + "-11\r\n" + "+9\r\n" + "-1\r\n" + "+11\r\n" + "+19\r\n" + "-5\r\n"
            + "+20\r\n" + "-2\r\n" + "+17\r\n" + "+17\r\n" + "+17\r\n" + "+18\r\n" + "+17\r\n" + "+25\r\n" + "-31\r\n" + "+20\r\n" + "-7\r\n" + "+21\r\n" + "+15\r\n" + "+15\r\n" + "-13\r\n"
            + "+18\r\n" + "+14\r\n" + "+28\r\n" + "-10\r\n" + "+16\r\n" + "-17\r\n" + "-16\r\n" + "-2\r\n" + "-7\r\n" + "-8\r\n" + "-23\r\n" + "-16\r\n" + "+11\r\n" + "-20\r\n" + "+11\r\n" + "-3\r\n"
            + "-31\r\n" + "-4\r\n" + "-20\r\n" + "+18\r\n" + "-8\r\n" + "+3\r\n" + "+6\r\n" + "-15\r\n" + "-35\r\n" + "+19\r\n" + "+2\r\n" + "-4\r\n" + "+9\r\n" + "-12\r\n" + "-15\r\n" + "-9\r\n"
            + "-3\r\n" + "+15\r\n" + "+38\r\n" + "-6\r\n" + "+11\r\n" + "-36\r\n" + "-11\r\n" + "-14\r\n" + "-1\r\n" + "-5\r\n" + "+2\r\n" + "+23\r\n" + "-12\r\n" + "-33\r\n" + "-18\r\n" + "+1\r\n"
            + "+5\r\n" + "+3\r\n" + "+16\r\n" + "+7\r\n" + "-28\r\n" + "+8\r\n" + "-22\r\n" + "-7\r\n" + "-18\r\n" + "-17\r\n" + "+16\r\n" + "+11\r\n" + "+16\r\n" + "+4\r\n" + "-15\r\n" + "+7\r\n"
            + "-10\r\n" + "-7\r\n" + "-9\r\n" + "-4\r\n" + "+9\r\n" + "+6\r\n" + "-21\r\n" + "-11\r\n" + "-20\r\n" + "-19\r\n" + "-5\r\n" + "+3\r\n" + "+27\r\n" + "+9\r\n" + "+23\r\n" + "+16\r\n"
            + "-19\r\n" + "-2\r\n" + "+20\r\n" + "+13\r\n" + "-2\r\n" + "-16\r\n" + "+11\r\n" + "+2\r\n" + "-10\r\n" + "-11\r\n" + "-21\r\n" + "-6\r\n" + "-8\r\n" + "-10\r\n" + "-20\r\n" + "+35\r\n"
            + "+46\r\n" + "+2\r\n" + "-19\r\n" + "-13\r\n" + "+23\r\n" + "-2\r\n" + "+56\r\n" + "+7\r\n" + "+53\r\n" + "+5\r\n" + "-64\r\n" + "-62\r\n" + "+103\r\n" + "+162\r\n" + "+4\r\n" + "+10\r\n"
            + "-27\r\n" + "-15\r\n" + "-14\r\n" + "+22\r\n" + "+9\r\n" + "+1\r\n" + "+38\r\n" + "-9\r\n" + "+8\r\n" + "+9\r\n" + "+34\r\n" + "+1\r\n" + "-11\r\n" + "+4\r\n" + "-19\r\n" + "-29\r\n"
            + "+16\r\n" + "+52\r\n" + "-16\r\n" + "+27\r\n" + "+188\r\n" + "-83\r\n" + "+191\r\n" + "+59071\r\n" + "+19\r\n" + "-10\r\n" + "-6\r\n" + "-16\r\n" + "-18\r\n" + "+14\r\n" + "-10\r\n"
            + "+18\r\n" + "+4\r\n" + "-10\r\n" + "+3\r\n" + "+16\r\n" + "+6\r\n" + "-18\r\n" + "-3\r\n" + "+1\r\n" + "+4\r\n" + "-20\r\n" + "+4\r\n" + "-16\r\n" + "-7\r\n" + "-6\r\n" + "+19\r\n"
            + "+12\r\n" + "-3\r\n" + "-7\r\n" + "-13\r\n" + "-7\r\n" + "-9\r\n" + "+19\r\n" + "-20\r\n" + "+12\r\n" + "+12\r\n" + "+18\r\n" + "-15\r\n" + "-8\r\n" + "-11\r\n" + "-9\r\n" + "-7\r\n"
            + "+13\r\n" + "+16\r\n" + "+11\r\n" + "+4\r\n" + "-13\r\n" + "-10\r\n" + "+1\r\n" + "-11\r\n" + "-14\r\n" + "+13\r\n" + "+4\r\n" + "+10\r\n" + "-5\r\n" + "+7\r\n" + "-24\r\n" + "-7\r\n"
            + "+11\r\n" + "-22\r\n" + "-20\r\n" + "+15\r\n" + "-10\r\n" + "+13\r\n" + "-7\r\n" + "-25\r\n" + "-2\r\n" + "-4\r\n" + "+45\r\n" + "-1\r\n" + "+16\r\n" + "+11\r\n" + "+24\r\n" + "+4\r\n"
            + "+4\r\n" + "+22\r\n" + "-17\r\n" + "+13\r\n" + "-16\r\n" + "+5\r\n" + "+16\r\n" + "+16\r\n" + "+15\r\n" + "-119289";

    private static int part1() {
        return new BufferedReader(new StringReader(INPUT)).lines() //
                .collect(Collectors.summingInt(Integer::parseInt));
    }

    private static int part2() {
        Set<Integer> reachedFrequencies = new HashSet<>();
        int val = 0;
        reachedFrequencies.add(val);
        while (true) {
            for (String string : new BufferedReader(new StringReader(INPUT)).lines().collect(Collectors.toList())) {
                val += Integer.parseInt(string);
                if (!reachedFrequencies.add(val)) {
                    return val;
                }
            }
        }
    }

    public static void main(final String[] args) {
        System.out.println(Day1.part1());
        System.out.println(Day1.part2());
    }
}
